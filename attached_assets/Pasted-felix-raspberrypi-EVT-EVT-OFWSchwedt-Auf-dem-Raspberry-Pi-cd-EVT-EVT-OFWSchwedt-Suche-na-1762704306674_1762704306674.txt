felix@raspberrypi:~/EVT/EVT-OFWSchwedt $ # Auf dem Raspberry Pi:
cd ~/EVT/EVT-OFWSchwedt

# Suche nach PostgresStorage Klasse:
grep -n "class PostgresStorage" server/storage.ts

# Zeige die PostgresStorage.getUsersWithRemindersEnabled Implementierung:
grep -A30 "class PostgresStorage" server/storage.ts | grep -A20 "getUsersWithRemindersEnabled"

# Oder zeige mir die ganze Datei ab Zeile 500:
tail -n +500 server/storage.ts | head -100
    const einsatz = await this.getEinsatz();
    
    const countWithQual = (qual: string): number => {
      return users.filter(u => u.qualifikationen.includes(qual)).length;
    };
    
    const vorhanden = {
      agt: countWithQual("AGT"),
      maschinist: countWithQual("Maschinist"),
      gf: countWithQual("GF"),
      gesamt: users.length,
    };
    
    const minima = {
      min_agt: settings.min_agt,
      min_maschinist: settings.min_maschinist,
      min_gf: settings.min_gf,
      mannschaftsbedarf: einsatz.mannschaftsbedarf,
    };
    
    const erfuellt = (
      vorhanden.agt >= minima.min_agt &&
      vorhanden.maschinist >= minima.min_maschinist &&
      vorhanden.gf >= minima.min_gf &&
      vorhanden.gesamt >= minima.mannschaftsbedarf
    );
    
    return { vorhanden, minima, erfuellt };
  }

  // Vehicle Configurations (stub implementation - not used)
  async getAllVehicleConfigs(): Promise<VehicleConfig[]> {
    return [];
  }

  async getVehicleConfig(_id: number): Promise<VehicleConfig | undefined> {
    return undefined;
  }

  async getVehicleConfigByName(_name: string): Promise<VehicleConfig | undefined> {
    return undefined;
  }

  async createVehicleConfig(_config: InsertVehicleConfig): Promise<VehicleConfig> {
    throw new Error("Not implemented in MemStorage");
  }

  async updateVehicleConfig(_id: number, _updates: Partial<InsertVehicleConfig>): Promise<VehicleConfig> {
    throw new Error("Not implemented in MemStorage");
  }

  async deleteVehicleConfig(_id: number): Promise<void> {
    throw new Error("Not implemented in MemStorage");
  }

  // Availabilities
  async getUserAvailability(_userId: string, _date: string): Promise<Availability | undefined> {
    throw new Error("Not implemented in MemStorage");
  }

  async getUserAvailabilities(_userId: string): Promise<Availability[]> {
    throw new Error("Not implemented in MemStorage");
  }

  async setAvailability(_availability: InsertAvailability): Promise<Availability> {
    throw new Error("Not implemented in MemStorage");
  }

  async deleteAvailability(_id: number): Promise<void> {
    throw new Error("Not implemented in MemStorage");
  }

  async getAvailableUsers(_date: string): Promise<User[]> {
    throw new Error("Not implemented in MemStorage");
  }

  // Current Assignments
  async getCurrentAssignments(): Promise<CurrentAssignment[]> {
    throw new Error("Not implemented in MemStorage");
  }

  async getUserAssignment(_userId: string): Promise<CurrentAssignment | undefined> {
    throw new Error("Not implemented in MemStorage");
  }

  async setCurrentAssignments(_assignments: InsertCurrentAssignment[]): Promise<CurrentAssignment[]> {
    throw new Error("Not implemented in MemStorage");
  }

  async clearCurrentAssignments(): Promise<void> {
    throw new Error("Not implemented in MemStorage");
  }

  // Push Subscriptions (stub)
  async savePushSubscription(_subscription: InsertPushSubscription): Promise<PushSubscription> {
    throw new Error("Not implemented in MemStorage");
  }

  async getUserPushSubscriptions(_userId: string): Promise<PushSubscription[]> {
    throw new Error("Not implemented in MemStorage");
felix@raspberrypi:~/EVT/EVT-OFWSchwedt $ 
